<script setup lang="ts">
import { onBeforeMount, ref } from 'vue';
import { DashboardTransport } from './transport/dashboard';
declare const Telegram: any

const authorized = ref(false)

onBeforeMount(async()=>{
  try {
    await DashboardTransport.authorize()
    authorized.value = true

    const tg = Telegram.WebApp

    tg.expand()
    tg.isVerticalSwipesEnabled = false
    tg.disableVerticalSwipes()
    tg.ready()

  } catch (error) {
    console.log(error)
  }
})

</script>

<template>
  <RouterView v-if="authorized"/>
  <div v-else class="text-center w-screen h-screen flex items-center justify-center font-bold">
    <p>–°–æ—Ä–∏, —è –æ—á–µ–Ω—å —É—Å—Ç–∞–ª, –ø–æ–∫–∞ –¥–µ–ª–∞–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é,<br>–ø–æ—ç—Ç–æ–º—É —Ç—É—Ç –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ—Ç —ç—Ç–æ—Ç —Ç–µ–∫—Å—Çüòê</p>
  </div>
</template>

<style scoped>



</style>
